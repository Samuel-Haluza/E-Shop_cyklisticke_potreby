import{_ as w,c as u,a as t,F as v,r as p,t as o,w as C,v as b,o as d,n as h,P as k,b as c,d as m,e as l,g as S,u as y,f as x,h as g}from"./index-0EaitA9E.js";const z={props:{rating:{type:Number,default:4.5},reviewCount:{type:Number,default:24}},data(){return{userRating:0,userReview:""}},methods:{submitReview(){this.userRating>0&&this.userReview.trim()?(this.$emit("review-submitted",{rating:this.userRating,review:this.userReview}),this.userRating=0,this.userReview=""):alert("Prosím vyplňte hodnotenie a recenziu")}}},V={class:"rating-section"},I={class:"rating-display"},N={class:"stars"},T={class:"rating-info"},B={class:"rating-value"},D={class:"reviews-count"},F={class:"rating-form"},M={class:"form-group"},$={class:"star-selector"},j=["onClick"],E={class:"form-group"};function L(i,e,a,P,n,r){return d(),u("div",V,[t("div",I,[t("div",N,[(d(),u(v,null,p(5,s=>t("span",{key:s,class:h(["star",{filled:s<=Math.round(a.rating)}])}," ★ ",2)),64))]),t("div",T,[t("span",B,o(a.rating.toFixed(1)),1),t("span",D,"("+o(a.reviewCount)+" recenzií)",1)])]),t("div",F,[e[3]||(e[3]=t("h4",null,"Napíšte recenziu",-1)),t("div",M,[e[2]||(e[2]=t("label",null,"Vaše hodnotenie:",-1)),t("div",$,[(d(),u(v,null,p(5,s=>t("span",{key:s,class:h(["star selectable",{selected:s<=n.userRating}]),onClick:_=>n.userRating=s}," ★ ",10,j)),64))])]),t("div",E,[C(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.userReview=s),placeholder:"Vaša recenzia...",rows:"4"},null,512),[[b,n.userReview]])]),t("button",{onClick:e[1]||(e[1]=(...s)=>r.submitReview&&r.submitReview(...s)),class:"submit-btn"},"Odoslať recenziu")])])}const O=w(z,[["render",L],["__scopeId","data-v-e8addc66"]]),U={components:{PriceSection:k,ProductRating:O},setup(){return{productStore:x()}},computed:{id(){return this.$route.params.id},currentProduct(){return this.productStore.getProductById(this.id)}},methods:{addToCart(){this.currentProduct.id!==0&&(y().addToCart(this.currentProduct),this.$router.push("/cart"))},getIcon(i){return S(i)},onReviewSubmitted(i){this.currentProduct.id!==0&&(this.currentProduct.reviewCount++,this.currentProduct.rating=(this.currentProduct.rating*(this.currentProduct.reviewCount-1)+i.rating)/this.currentProduct.reviewCount,alert("Ďakujeme za vašu recenziu!"))}}},q={class:"product-detail"},A={class:"detail-container"},G={class:"product-display"},H={class:"product-image-large"},J={class:"product-details"},K={class:"description"},Q={class:"actions"};function W(i,e,a,P,n,r){const s=l("router-link"),_=l("PriceSection"),f=l("ProductRating");return d(),u("section",q,[c(s,{to:"/products",class:"back-link"},{default:m(()=>[...e[1]||(e[1]=[g("← Späť na produkty",-1)])]),_:1}),t("div",A,[t("div",G,[t("div",H,o(r.getIcon(r.currentProduct.name)),1)]),t("div",J,[t("h1",null,o(r.currentProduct.name),1),c(_,{price:r.currentProduct.price},null,8,["price"]),t("p",K,"Detailný popis produktu: "+o(r.currentProduct.detail),1),t("div",Q,[t("button",{class:"add-to-cart",onClick:e[0]||(e[0]=(...R)=>r.addToCart&&r.addToCart(...R))},"Pridať do košíka"),c(s,{to:"/products",class:"continue-shopping"},{default:m(()=>[...e[2]||(e[2]=[g("Ďalší nákup",-1)])]),_:1})])])]),c(f,{rating:r.currentProduct.rating,reviewCount:r.currentProduct.reviewCount,onReviewSubmitted:r.onReviewSubmitted},null,8,["rating","reviewCount","onReviewSubmitted"])])}const Y=w(U,[["render",W],["__scopeId","data-v-e028a4c1"]]);export{Y as default};
